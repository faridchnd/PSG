mixed-port: 7890
allow-lan: true
mode: rule
log-level: error
ipv6: true
external-controller: 127.0.0.1:9090
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  ipv6: true
  default-nameserver: [1.1.1.1, 8.8.8.8]
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  use-hosts: true
  nameserver: [8.8.4.4, 1.0.0.1, "https://1.0.0.1/dns-query"]

proxies:
  - {"name":"🇸🇪 SE | 🟢 | ss | @customvpnserver | 6","type":"ss","server":"46.246.90.6","port":8443,"password":"0tcbrH0GQNmGJxGM5dkeDh","cipher":"chacha20-ietf-poly1305"}
  - {"name":"🇺🇸 US | 🟢 | ss | @customvpnserver | 7","type":"ss","server":"213.111.142.216","port":8443,"password":"OUERiyxvrzTJi5kftx980G","cipher":"chacha20-ietf-poly1305"}
  - {"name":"🇩🇪 DE | 🟢 | vless | @customvpnserver | 8","type":"vless","server":"91.107.254.202","port":8443,"uuid":"a6580107-b1e0-4057-9f47-ac7f28de457a","tls":true,"network":"xhttp","client-fingerprint":"chrome","udp":true,"servername":"firebase.googleapis.com","reality-opts":{"public-key":"4Xu_jqRD-mbhEwNyntlz_6zU4VhsE0-QWCxAbhEL_H4","short-id":"7ab467"}}
  - {"name":"🇨🇦 CA | 🟢 | vless | @customvpnserver | 9","type":"vless","server":"www.bankonbasak.com","port":443,"uuid":"30f2d443-af46-4dd6-83c9-b5e17299ebd2","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"carlotta.shoorekeeper.cloudns.org","ws-opts":{"path":"\/proxyip=zani.yaemiko.ggff.net","headers":{"Host":"carlotta.shoorekeeper.cloudns.org"}}}
  - {"name":"🇺🇸 US | 🔴 | vless | @customvpnserver | 10","type":"vless","server":"104.16.191.195","port":80,"uuid":"f278037e-ce36-4634-9b4d-fca93e345a35","tls":false,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"barayeiran.mahiozonboroon.qzz.io","ws-opts":{"path":"\/vpn?ed=2560","headers":{"Host":"barayeiran.mahiozonboroon.qzz.io"}}}
  - {"name":"🇨🇦 CA | 🟢 | ss | @falcunargo | 10","type":"ss","server":"142.4.216.225","port":80,"password":"JIhN6rBKkaEboLNXVSv5rq","cipher":"chacha20-ietf-poly1305"}
  - {"name":"🇺🇸 US | 🟢 | vless | @falcunargo | 11","type":"vless","server":"www.visa.com.sg","port":2087,"uuid":"90c7ad5e-cd15-4314-b39b-aeabd397d592","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"vl.hongkong6.qzz.io","ws-opts":{"path":"\/?ed=2560","headers":{"Host":"vl.hongkong6.qzz.io"}}}
  - {"name":"🇺🇸 US | 🟢 | vless | @falcunargo | 13","type":"vless","server":"172.66.40.99","port":443,"uuid":"b087edf1-4da7-4379-9485-352f483be71f","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"www.speedtest.net.google.com.bing.com.yahoo.com.pubgmobile.dns-dynamic.net","ws-opts":{"path":"\/Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray---Telegram-XV2ray?ed=2048","headers":{"Host":"www.speedtest.net.google.com.bing.com.yahoo.com.pubgmobile.dns-dynamic.net"}}}
  - {"name":"🇺🇸 US | 🟢 | vless | @v2ang | 1","type":"vless","server":"172.67.170.103","port":443,"uuid":"b9ad895b-12ac-40fc-a5ac-a5b2a1285001","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"3k.pureboy.eu.org","ws-opts":{"path":"\/?ed=2048","headers":{"Host":"3k.pureboy.eu.org"}}}
  - {"name":"❔ XX | 🟢 | vless | @v2ang | 2","type":"vless","server":"edgu.pureboy.eu.org","port":443,"uuid":"04a93bb8-0a5b-4aa8-ab7f-31fc7adab1c1","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"edgu.pureboy.eu.org","ws-opts":{"path":"\/?ed=2048","headers":{"Host":"edgu.pureboy.eu.org"}}}
  - {"name":"🇬🇧 GB | 🟢 | ss | @v2ang | 3","type":"ss","server":"series-a2-me.samanehha.co","port":443,"password":"Bog0ELmMM9DSxDdQ","cipher":"chacha20-ietf-poly1305"}
  - {"name":"🇺🇸 US | 🟢 | vless | @v2ang | 4","type":"vless","server":"discord.gg","port":2087,"uuid":"439dbc9e-5519-40ae-9856-47070807d87a","tls":true,"network":"grpc","client-fingerprint":"chrome","udp":true,"servername":"blog159.v2box.lol"}
  - {"name":"🇺🇸 US | 🟢 | vless | @v2ang | 5","type":"vless","server":"104.31.16.36","port":443,"uuid":"376b9861-2fc6-4647-959c-18185cd9c95a","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"lmn39.sbs","ws-opts":{"path":"\/fflsws","headers":{"Host":"lmn39.sbs"}}}
  - {"name":"🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 4","type":"vless","server":"discord.com","port":443,"uuid":"20b4cb22-6ddf-454d-aee2-d1003c844e0d","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"hello-world-falling-brook-d33c.celtklex0k.workers.dev","ws-opts":{"path":"\/?ed=2048","headers":{"Host":"hello-world-falling-brook-d33c.celtklex0k.workers.dev"}}}
  - {"name":"🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 5","type":"vless","server":"discord.com","port":443,"uuid":"f7fe4c50-8f84-425a-8b60-6fbea946df9e","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"w.n8c6n9qvg.workers.dev","ws-opts":{"path":"\/?ed=2048","headers":{"Host":"w.n8c6n9qvg.workers.dev"}}}
  - {"name":"🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 7","type":"vless","server":"188.114.97.3","port":443,"uuid":"884f9b2c-f0c5-44dd-a68e-3e39ce93bb39","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"cf-wkrs-pages-vless-aoy.pages.dev","ws-opts":{"path":"\/?ed=2048","headers":{"Host":"cf-wkrs-pages-vless-aoy.pages.dev"}}}
  - {"name":"🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 8","type":"vless","server":"discord.com","port":2053,"uuid":"8ae88ee2-2f11-46ad-8302-ba388712196a","tls":true,"network":"ws","client-fingerprint":"chrome","udp":true,"servername":"cdn.biglog.sbs","ws-opts":{"path":"\/","headers":{"Host":"cdn.biglog.sbs"}}}

proxy-groups:
  - name: PSG-MANUAL
    type: select
    proxies:
      - PSG-AUTO
      - PSG-FALLBACK
    - '🇸🇪 SE | 🟢 | ss | @customvpnserver | 6'
    - '🇺🇸 US | 🟢 | ss | @customvpnserver | 7'
    - '🇩🇪 DE | 🟢 | vless | @customvpnserver | 8'
    - '🇨🇦 CA | 🟢 | vless | @customvpnserver | 9'
    - '🇺🇸 US | 🔴 | vless | @customvpnserver | 10'
    - '🇨🇦 CA | 🟢 | ss | @falcunargo | 10'
    - '🇺🇸 US | 🟢 | vless | @falcunargo | 11'
    - '🇺🇸 US | 🟢 | vless | @falcunargo | 13'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 1'
    - '❔ XX | 🟢 | vless | @v2ang | 2'
    - '🇬🇧 GB | 🟢 | ss | @v2ang | 3'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 4'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 5'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 4'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 5'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 7'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 8'

  - name: PSG-AUTO
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 60
    proxies:
    - '🇸🇪 SE | 🟢 | ss | @customvpnserver | 6'
    - '🇺🇸 US | 🟢 | ss | @customvpnserver | 7'
    - '🇩🇪 DE | 🟢 | vless | @customvpnserver | 8'
    - '🇨🇦 CA | 🟢 | vless | @customvpnserver | 9'
    - '🇺🇸 US | 🔴 | vless | @customvpnserver | 10'
    - '🇨🇦 CA | 🟢 | ss | @falcunargo | 10'
    - '🇺🇸 US | 🟢 | vless | @falcunargo | 11'
    - '🇺🇸 US | 🟢 | vless | @falcunargo | 13'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 1'
    - '❔ XX | 🟢 | vless | @v2ang | 2'
    - '🇬🇧 GB | 🟢 | ss | @v2ang | 3'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 4'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 5'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 4'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 5'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 7'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 8'

  - name: PSG-FALLBACK
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 60
    proxies:
    - '🇸🇪 SE | 🟢 | ss | @customvpnserver | 6'
    - '🇺🇸 US | 🟢 | ss | @customvpnserver | 7'
    - '🇩🇪 DE | 🟢 | vless | @customvpnserver | 8'
    - '🇨🇦 CA | 🟢 | vless | @customvpnserver | 9'
    - '🇺🇸 US | 🔴 | vless | @customvpnserver | 10'
    - '🇨🇦 CA | 🟢 | ss | @falcunargo | 10'
    - '🇺🇸 US | 🟢 | vless | @falcunargo | 11'
    - '🇺🇸 US | 🟢 | vless | @falcunargo | 13'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 1'
    - '❔ XX | 🟢 | vless | @v2ang | 2'
    - '🇬🇧 GB | 🟢 | ss | @v2ang | 3'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 4'
    - '🇺🇸 US | 🟢 | vless | @v2ang | 5'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 4'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 5'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 7'
    - '🇺🇸 US | 🟢 | vless | @v2ray_reality_new | 8'

rule-providers:
  ir_domains: {type: http, format: text, behavior: domain, path: ./ruleset/ir.txt, url: https://github.com/bootmortis/iran-clash-rules/releases/latest/download/ir.txt, interval: 86400}
  ir_cidr: {type: http, format: text, behavior: ipcidr, path: ./ruleset/ircidr.txt, url: https://github.com/bootmortis/iran-clash-rules/releases/latest/download/ircidr.txt, interval: 86400}
  

rules:
  - DOMAIN-SUFFIX,ir,DIRECT
  - IP-CIDR,127.0.0.1/32,DIRECT,no-resolve
  - IP-CIDR,198.18.0.1/16,DIRECT,no-resolve
  - GEOIP,IR,DIRECT
- RULE-SET,ir_domains,DIRECT
  - RULE-SET,ir_cidr,DIRECT
  - MATCH,PSG-MANUAL
